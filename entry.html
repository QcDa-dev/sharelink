<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>情報記録 | 就活しぇありんく</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="common.css">
</head>
<body>
    <div class="page-wrapper">
        <!-- ハンバーガーメニューなど共通UI -->
        <div id="common-ui-container"></div>
        
        <!-- メインコンテンツ -->
        <main class="view-container">
            <div class="content-card max-w-2xl">
                <img src="https://lh3.googleusercontent.com/d/1aeSD5Nt-uXmRBjVra2jzXFO6gRLLjLDv" alt="ロゴ" class="logo">
                <h2 class="text-2xl font-bold mb-6 text-gray-800">情報記録</h2>
                <p class="text-left mb-4">日時やイベント名などがわかるときは、タイトルに必ず書くようにしてください！</p>
                <div id="entry-message" class="message hidden"></div>
                <form id="recordForm">
                    <div class="form-group"><label for="industrySelect">業界</label><select name="industryName" id="industrySelect" class="form-input"></select></div>
                    <div class="form-group"><label for="companySelect">企業名</label><select name="companyName" id="companySelect" class="form-input"></select></div>
                    <div class="mt-8 p-4 border border-blue-200 rounded-lg bg-blue-50">
                        <p class="text-blue-700 mb-2 text-sm text-left">新しい企業を登録したい場合は、こちらに企業名を正確に記入してください。また、業界を選択してください。</p>
                        <div class="form-group"><label for="newIndustrySelect">業界</label><select name="newIndustryName" id="newIndustrySelect" class="form-input"></select></div>
                        <div class="form-group"><label for="newCompanyName">企業名</label><input type="text" name="newCompanyName" id="newCompanyName" placeholder="新しい企業名を入力" class="form-input"></div>
                    </div>
                    <div class="form-group mt-6"><label for="title">タイトル</label><input type="text" name="title" id="title" placeholder="タイトルを入力" class="form-input" required></div>
                    <div class="form-group"><label for="contents">内容</label><textarea name="contents" id="contents" rows="10" placeholder="内容を入力" class="form-input"></textarea></div>
                    <div class="flex flex-col sm:flex-row justify-between mt-6 space-y-3 sm:space-y-0 sm:space-x-4">
                        <button type="button" id="backToListBtn" class="btn btn-secondary">戻る</button>
                        <button type="button" id="submitBtn" class="btn btn-primary">情報の追加</button>
                    </div>
                </form>
            </div>
        </main>
        
        <!-- フッター -->
        <footer>
            &copy; 2025 QcDa Project. All Rights Reserved.
        </footer>
    </div>
    
    <!-- スクリプト -->
    <script type="module" src="common.js"></script>
    <script type="module">
        import { authGuard, initCommonUI, setupEntryForm, handleEntrySubmit } from './common.js';
        
        document.addEventListener('DOMContentLoaded', () => {
            authGuard('private');
            initCommonUI();
            setupEntryForm();
            
            document.getElementById('backToListBtn').addEventListener('click', () => {
                window.location.href = 'list.html';
            });
            document.getElementById('submitBtn').addEventListener('click', handleEntrySubmit);
        });
    </script>
</body>
</html>
